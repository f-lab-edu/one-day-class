# **목차**
1. 프로젝트 개요
2. USE CASE / 시나리오
3. 기능, Flow Chart
4. 메뉴 구조도

# **프로젝트 개요**
본 프로젝트에서는 원데이 클래스 서비스를 제공하는 시스템을 개발합니다. 원데이 클래스 서비스는 기본적으로 HOST가 클래스를 개설하면 GUEST가 가능한 일자에 예약(신청)하는 서비스입니다. 원데이 클래스란 하루 몇 시간 동안 일회성으로 이뤄지는 수업을 말하며 자신이 관심 있는 분야를 직접 선택해서 체험해볼 수 있다는 장점이 있습니다.

원데이 클래스 서비스를 이용하는 사용자는 GUEST, HOST, ADMIN으로 나뉩니다. GUEST와 HOST는 일반 회원으로 서비스를 이용하기 위해 회원가입이 필요하며, ADMIN은 관리자로 관리자 계정을 통해서 서비스를 관리하는 역할을 수행합니다. GUEST는 원데이 클래스 수강자로서 클래스 신청, 후기 작성, 피드 조회 등의 활동을 수행하며, HOST는 원데이 클래스 개설, 수강생 관리 등의 활동을 수행합니다.

# **USE CASE 시나리오**

## **1. GUEST**
### **USE CASE 1 - GUEST 회원가입**
1. 로그인 화면에서 GUEST로 가입을 선택한다.
2. GUEST용 회원가입 폼이 보여진다.
3. 아이디를 입력 후 중복확인 버튼을 클릭한다.
   - 3-1. 존재하는 아이디가 있으면 중복 아이디 존재 메세지를 응답한다.
   - 3-2. 존재하는 아이디가 없으면 사용 가능 메세지를 응답한다.
4. 비밀번호와 검증 비밀번호를 입력한다.
5. 전화번호를 입력 후 인증번호 발송 버튼을 클릭한다.
6. 유저는 3분 내에 수신한 인증번호를 입력하고 인증하기 버튼을 클릭한다.
7. 유저의 성별을 선택한다.
8. 유저의 생년월일을 입력한다.
9. 회원가입 버튼을 클릭하면 GUEST 회원가입을 완료한다.
10. 로그인 화면으로 이동한다.

```
> 비밀번호는 영문+숫자+특수문자 조합 8자리 이상으로 입력한다.
> 전화번호는 휴대폰 번호로 입력한다.
> 생년월일은 YYYYMMDD 형식으로 입력받는다.
```

### **USE CASE 2 - 로그인**
1. 유저에게 아이디와 비밀번호를 입력할 수 있는 화면이 보여진다.
2. 유저가 아이디와 비밀번호를 입력 후 로그인 버튼을 클릭한다.
3. 로그인 시스템에서는 입력한 아이디와 비밀번호로 회원여부를 검증한다.
   - 3-1. 일치하는 아이디와 비밀번호가 있으면 로그인을 성공한다.
   - 3-2. 일치하는 아이디와 비밀번호가 없으면 로그인 실패 횟수를 검증한다.
      - 3-2-1. 로그인 5회 미만 실패 시 1~3번 흐름을 반복한다.
      - 3-2-2. 로그인 5회 실패 시 해당 아이디를 잠금 처리한다.

```
> 로그인 시도 5회 실패 시 아이디 잠금처리된다.
> 잠금처리된 아이디는 30분 뒤에 로그인 가능하다.
```

### **USE CASE 3 - 회원정보 수정**
1. 유저가 로그인한다.
2. 유저가 마이페이지를 클릭한다.
3. 회원정보 변경 메뉴를 클릭한다.
4. 비밀번호를 입력한다.
   - 4-1. 비밀번호가 일치하면 4번 흐름으로 이동한다.
   - 4-2. 아니오를 클릭하면 마이페이지로 이동한다.
5. 회원정보 변경 폼이 보여진다.
6. 바꿀 전화번호를 입력하고 인증번호 발송 버튼을 클릭한다.
7. 유저는 3분 내에 수신한 인증번호를 입력하고 인증하기 버튼을 클릭한다.
   - 7-1. 인증번호가 일치하면 인증이 완료되었다는 메세지를 응답한다.
   - 7-2. 인증번호가 틀리면 인증번호가 일치하지 않는다는 메세지를 응답한다.
      - 7-2-1. 5~7번 흐름을 반복한다.
8. 유저의 성별을 선택한다.
9. 유저의 생년월일을 입력한다.
10. 수정 버튼을 클릭한다.
   - 10-1. 수정사항이 있으면 회원정보 수정을 완료한다.
   - 10-2. 수정사항이 없으면 수정사항이 없다는 메세지를 응답한다.

### **USE CASE 4 - 비밀번호 수정**
1. 유저가 로그인한다.
2. 유저가 마이페이지를 클릭한다.
3. 비밀번호 변경 메뉴를 클릭한다.
4. 비밀번호를 입력한다.
5. 비밀번호가 일치하면 비밀번호를 수정할 수 있는 폼을 보여준다.
6. 바꿀 비밀번호와 검증 비밀번호를 입력하여 비밀번호 수정을 완료한다.

### **USE CASE 5 - 회원탈퇴**
1. 유저가 로그인한다.
2. 유저가 마이페이지를 클릭하고 회원 탈퇴 메뉴를 클릭한다.
3. 비밀번호를 입력한다.
   - 3-1. 비밀번호가 일치하면 회원 탈퇴 여부를 선택하는 화면이 보여진다.
      - 3-1-1. 예를 클릭하면 4번 흐름으로 이동한다.
      - 3-1-2. 아니오를 클릭하면 마이페이지로 이동한다.
   - 3-2. 비밀번호가 일치하지 않으면 
4. 회원 탈퇴가 완료되었다는 메세지를 응답한다. 
5. 주 1회 정해진 일자에 탈퇴 신청한 유저의 정보를 일괄 삭제한다.

```
> 회원 탈퇴 신청을 한 회원 상태는 우선 `탈퇴중`으로 변경된다.
> 일주일 이내에 재 로그인 시 탈퇴 처리는 취소되고 로그인 가능한 계정으로 변경된다.
> 신청 후 일주일이 지나면 유저 데이터를 모두 삭제한다.
> 회원 탈퇴 신청 후 일주일이 지나지 않은 유저는 복구가 가능하다. 
```

### **USE CASE 6 - 클래스 신청**
1. 유저가 로그인한다.
2. 클래스 목록을 조회한다.
   - 2-1. 카테고리로 조회한다.
      - 2-1-1. 조회하고자 하는 지역을 선택한다.
      - 2-1-2. 최상위 카테고리 목록(카테고리명)과 카테고리 대표 사진이 유저에게 보여진다.
      - 2-1-3. 조회하고자 하는 카테고리를 선택한다.
      - 2-1-4. 선택된 카테고리의 하위 카테고리(카테고리명)들을 보여 준다.
      - 2-1-5. 최하위 카테고리를 선택할 때까지 상기 2-1-2 ~ 2-1-3번의 흐름을 반복한다.
      - 2-1-6. 선택된 최하위 카테고리에 포함된 클래스들의 목록을 보여준다.
      - 2-1-7. 3번 흐름으로 이동한다.
   - 2-2. 클래스명 검색으로 조회한다.
      - 2-2-1. 조회하고자 하는 지역을 선택한다.
      - 2-2-2. 검색어를 입력하고 검색 버튼을 클릭한다.
      - 2-2-3. 해당 지역에 개설돼있고, 해당 검색어를 포함한 클래스 목록이 보여진다.
      - 2-2-4. 3번 흐름으로 이동한다.
3. 상세한 정보를 알고 싶은 클래스 하나를 선택한다.
4. 클래스 상세 정보가 보여진다.
5. 클래스 신청하기 버튼을 클릭한다.
6. 신청 가능한 일자들이 보여지고 신청하고싶은 일자를 선택한다.
7. 해당 일자에 신청 가능한 시간대들이 보여지고 신청하고싶은 시간대를 선택한다.
8. 신청하기 버튼을 클릭한다.
   - 8-1. 신청을 성공하면 신청이 완료되었다는 메세지와 함께 신청이 완료된다.
   - 8-2. 5~7번 흐름 사이에 정원이 가득차면 정원이 가득 찼다는 메세지와 함께 신청이 실패하고 4번 흐름으로 이동한다. 


```
> 정원이 가득찬 일자나 시간대는 선택 자체가 불가능하다.
> 클래스 목록 조회 시 클래스들은 페이지당 10개씩 보여지도록 페이징 처리한다.
```
### **USE CASE 7 - 클래스 신청 취소**
1. 유저가 로그인한다.
2. 마이페이지를 클릭한다.
3. 클래스 신청 내역 버튼을 클릭한다.
4. 수강 예정 탭을 클릭한다.
5. GUEST가 신청한 클래스 목록이 보여진다.
6. 취소하고 싶은 클래스를 선택 후 취소 버튼을 클릭한다.

### **USE CASE 8 - 클래스 후기 조회**
1. 클래스 신청<USE CASE 6>의 1~4번 흐름과 동일하다.
2. 클래스 상세 정보 화면에서는 가장 최근에 작성된 5개의 후기만 보여진다.
3. 모든 후기 조회 버튼을 클릭한다.
   - 3-1. 일반 후기 탭을 클릭한다.
   - 3-2. 사진 후기 탭을 클릭한다.
4. 해당 클래스를 수강한 GUEST들의 수강 후기 정보가 보여진다.

```
> 수강 후기에 표시되는 ID는 마스킹 처리한다.
> 평점은 소수점 둘째자리에서 반올림한다.
> 후기들은 페이지당 10개씩 보여지도록 페이징 처리한다.
```

### **USE CASE 9 - 클래스 후기 등록**
1. 유저가 로그인한다.
2. 마이페이지를 클릭한다.
3. 클래스 신청 내역 버튼을 클릭한다.
4. 수강 완료 탭을 클릭한다.
5. GUEST가 수강했던 클래스 목록이 보여진다.
6. 클래스 하나를 선택한다.
7. 일반후기와 사진후기 중 하나를 선택하는 화면이 보여진다.
   - 7-1. 일반 후기를 선택한다.
      - 7-1-1. 일반 후기 작성 폼이 보여진다.
      - 7-1-2. 평점과 후기를 작성하고 작성 완료 버튼을 클릭한다.
   - 7-2. 사진 후기를 선택한다.
      - 7-2-1. 사진 후기 작성 폼이 보여진다.
      - 7-2-2. 평점과 후기 작성, 사진 업로드를 완료하고 작성 완료 버튼을 클릭한다.
8. 클래스 후기 등록을 완료한다.

```
> 이미 작성한 후기는 수정이나 삭제가 불가능하다.
> 후기는 수강한 클래스당 한 번만 등록할 수 있다.
```
### **USE CASE 10 - 피드 좋아요 등록, 취소**
1. 유저가 로그인한다.
2. 피드 메뉴를 클릭한다.
3. 다른 GUEST들이 등록한 사진 후기가 시간순으로 보여진다.
4. 후기 하단의 좋아요 버튼을 눌러서 해당 후기를 추천한다.
5. 좋아요 버튼을 한 번 더 누르면 해당 후기 추천을 취소한다.

```
> 피드는 페이지당 10개씩 보여지도록 페이징 처리한다.
> 피드에는 사진, 작성자 아이디, 작성 시간, 수강한 클래스명, 후기, 좋아요 수, 댓글이 보여진다.
> 피드 하나당 좋아요는 한 번만 가능하다.
```

### **USE CASE 11 - 피드 댓글 등록**
1. 피드를 조회<USE CASE 10 1~3번 흐름>한다.
   - 1-1. 후기 하단의 댓글 작성 버튼을 클릭한다.
      - 1-1-1. 2번 흐름으로 이동한다.
   - 1-2. 댓글 하단의 댓글 작성 버튼을 클릭한다.
      - 1-2-1. 2번 흐름으로 이동한다.
2. 댓글을 작성하고 완료 버튼을 클릭한다.

```
> 댓글은 개수 제한 없이 작성할 수 있다.
> 대댓글의 깊이는 5까지 허용한다.
> 댓글에는 작성자 아이디, 작성 시간이 보여진다.
```

### **USE CASE 12 - 피드 댓글 수정**
1. 피드를 조회<USE CASE 10 1~3번 흐름>한다.
2. 자신이 작성한 댓글에는 수정 버튼이 보여진다.
3. 수정 버튼을 클릭한다.
4. 댓글을 수정하고 완료 버튼을 클릭한다.

```
> 수정한 댓글은 작성 시간이 마지막 수정 시간으로 보여진다.
```

### **USE CASE 13 - 피드 댓글 삭제**
1. 피드를 조회<USE CASE 10 1~3번 흐름>한다.
2. 자신이 작성한 댓글에는 삭제 버튼이 보여진다.
3. 삭제 버튼을 클릭한다.
   - 3-1. 대댓글이 달려 있지 않으면 정상적으로 삭제된다.
   - 3-2. 대댓글이 달려 있으면 해당 댓글 내용을 '삭제된 댓글입니다.'로 변경한다.

## **2. HOST**

### **USE CASE 1 - HOST 회원가입**
1. 로그인 화면에서 HOST로 가입을 선택한다.
2. HOST용 회원가입 폼이 보여진다.
3. 아이디를 입력 후 중복확인 버튼을 클릭한다.
   - 3-1. 존재하는 아이디가 있으면 중복 아이디 존재 메세지를 응답한다.
   - 3-2. 존재하는 아이디가 없으면 사용 가능 메세지를 응답한다.
4. 비밀번호와 검증 비밀번호를 입력한다.
5. 전화번호를 입력 후 인증번호 발송 버튼을 클릭한다.
6. 유저는 3분 내에 수신한 인증번호를 입력하고 인증하기 버튼을 클릭한다.
7. 유저의 성별을 선택한다.
8. 유저의 생년월일을 입력한다.
9. 주 분야(카테고리)를 선택한다.
   - 9-1. 카테고리(대분류)가 존재하지 않을 시 카테고리를 직접 입력한다.
   - 9-2. 존재하는 카테고리를 선택 시 해당 분야로 자동으로 적용된다.
10. 해당 분야의 전문가임을 입증할 수 있는 서류를 첨부한다.
11. 회원가입 버튼을 클릭하면 HOST 회원가입을 완료한다.
12. 로그인 화면으로 이동한다.
13. 관리자 승인 이후 회원가입이 완료된다.

### **USE CASE 2 - 추가 심사 신청**
1. 유저가 HOST로 로그인한다.
2. 마이페이지를 클릭한다.
3. 내 전문 분야 탭을 클릭한다.
4. '+' 버튼을 클릭하면 추가 심사 신청 폼이 보여진다.
5. 추가 심사를 받고 싶은 카테고리(대분류)를 선택한다.
   - 5-1. 카테고리(대분류)가 존재하지 않을 시 카테고리를 직접 입력한다.
6. 추가 심사 서류를 업로드한다.
7. 심사 신청 버튼을 클릭하여 추가 심사 신청을 완료한다.

```
> HOST 한 사람 당 전문 분야는 카테고리 대 분류 기준으로 3개까지 신청 가능하다.
```

### **USE CASE 2 - 클래스 개설**
1. 유저가 HOST로 로그인한다.
2. 클래스 탭으로 이동하여 클래스 개설 버튼을 클릭한다.
3. 개설할 클래스의 카테고리(대분류)를 선택한다.
4. 개설할 클래스의 카테고리(소분류)를 선택한다.
   - 4-1. 개설하고자 하는 클래스에 맞는 카테고리가 없는 경우 <USE CASE 5 2번 흐름>으로 이동한다.
   - 4-2. 카테고리 승인 후 2번 흐름부터 다시 시작한다.
5. 클래스 정보를 입력한다.
6. 클래스 개설 완료 버튼을 클릭한다.
   - 6-1. 현재 HOST가 개설중인 다른 클래스와 시간대가 겹치면 겹치는 클래스명과 일자, 시간대와 함께 오류 메세지를 응답한다.
   - 6-2. 클래스 최대 개설 가능 개수를 초과하여 개설하고자 하는 경우에는 오류 메세지를 응답한다.
7. 클래스 개설을 완료한다.

```
> 클래스 정보 : 클래스명, 클래스 설명, 가격, 신청 가능 일자, 수강 정원, 장소, 시간 등
> 클래스는 HOST당 5개까지 개설 가능하다.
> 카테고리를 새로 생성하여 신청한 클래스는 관리자 승인 후 개설이 완료된다.
> HOST는 자신의 분야에 해당하는 카테고리만 선택할 수 있다.
```

### **USE CASE 3 - 클래스 수정**
1. 유저가 HOST로 로그인한다.
2. 클래스 탭으로 이동하면 개설한 클래스 목록들이 보여진다.
3. 수정하고자 하는 클래스를 선택 후 수정 버튼을 클릭한다.
   - 3-1. 해당 클래스에 신청한 GUEST가 이미 존재하면 클래스 수정이 불가능하다.
4. 클래스 정보를 수정한다.
5. 완료 버튼을 클릭한다.
6. 해당 클래스를 신청한 GUEST들에게 클래스 변경 알림을 보낸다.

### **USE CASE 4 - 클래스 폐지**
1. 유저가 HOST로 로그인한다.
2. 클래스 탭으로 이동하면 개설한 클래스 목록들이 보여진다.
3. 폐지하고자 하는 클래스를 선택 후 폐지 버튼을 클릭한다.
4. 클래스 폐지가 완료된다.
   - 4-1. 해당 클래스를 신청한 GUEST들이 있으면 클래스 폐지 알림을 보낸다.
   - 4-2. 이외에는 클래스 폐지가 즉시 완료된다.

```
> 클래스를 신청한 사람이 있으면 알림을 보내고 폐지한다.
```

### **USE CASE 5 - 신규 카테고리(소분류) 신청**
1. 유저가 HOST로 로그인한다.
2. 마이페이지 탭으로 이동한다.
3. 신규 카테고리 신청을 클릭한다.
4. 소분류 카테고리의 상위 카테고리(대분류)를 선택한다.
5. 소분류 카테고리명을 작성하고 사유를 작성한다.
6. 신청 버튼을 클릭한다.
7. 관리자의 승인 결과를 확인한다.

## **3. ADMIN**
### **USE CASE 1 - HOST 가입 심사**
1. ADMIN으로 로그인한다.
2. 가입 심사 탭으로 이동한다.
3. 가입을 신청한 HOST 유저 목록이 보여진다.
4. 심사를 원하는 유저를 선택한다.
5. 유저의 정보와 제출 서류를 확인한다.
   - 5-1. 유저가 선택한 카테고리를 확인한다.
     - 5-1-1. 이미 존재하는 카테고리를 선택했다면 HOST와 적합한 카테고리인지 검증한다.
     - 5-1-2. 카테고리를 직접 입력했다면 카테고리를 신규 등록한다.
6. 서류를 검증한다.
   - 6-1. HOST 가입을 승인한다.
   - 6-2. HOST 가입을 거절한다.
7. HOST에게 가입 심사 결과를 전송한다.

### **USE CASE 2 - HOST 전문 분야 신규 등록 심사**
1. ADMIN으로 로그인한다.
2. HOST 관리 탭으로 이동한다.
3. 전문 분야 카테고리(대분류) 신규 등록을 원하는 HOST를 선택한다.
4. 해당 HOST의 전문 분야(카테고리) 목록이 보여진다.
5. '+' 버튼을 클릭한다.
6. HOST가 작성한 신청서와 서류를 확인하고 대분류 등록 필요 여부를 체크한다.
   - 6-1. 기존에 존재하는 대분류를 선택했으면 7번 흐름으로 이동한다..
   - 6-2. 새로운 대분류 카테고리를 등록한다.
     - 6-2-2. <USE CASE 3> 2번 흐름으로 이동한다.
7. 해당 HOST의 전문 분야를 심사한다.
   - 7-1. 승인한다.
     - 7-1-1. 해당 
   - 7-2. 거절한다.
8. HOST 전문 분야 심사를 완료한다.
9. 심사 결과를 HOST에게 전송한다.


### **USE CASE 3 - 대분류 카테고리(전문 분야) 등록**
1. ADMIN으로 로그인한다.
2. 클래스 관리 탭으로 이동한다.
3. 대분류 카테고리 탭으로 이동한다.
4. 카테고리 목록이 관리자에게 보여진다.
5. 카테고리(대분류) 추가 버튼을 클릭한다.
6. 등록하고자 하는 카테고리명, 카테고리 설명, 카테고리 대표 사진을 입력하고 등록 버튼을 클릭한다.
7. 카테고리명 중복 여부를 체크한다.
   - 7-1. 이미 존재하는 카테고리명이면 존재하는 카테고리명이라는 메세지를 응답하고 4번 흐름으로 이동한다.
   - 7-2. 이외에는 8번 흐름으로 이동한다.
8. 신규 카테고리가 등록되고 이를 포함한 카테고리 목록이 관리자에게 보여진다.


### **USE CASE 4 - 소분류 카테고리 등록 신청 심사**
1. ADMIN으로 로그인한다.
2. 클래스 관리 탭으로 이동한다.
3. 소분류 카테고리 신청 내역 탭으로 이동한다.
4. 신청 내역을 선택한다.
5. 신청 내역을 확인하고 검토한다.
6. 신청을 승인 또는 거절한다.
   - 5-1. 신청을 승인한다.
     - 5-1-1. 신청 정보를 확인하고 대분류 카테고리 하위에 소분류 카테고리를 등록한다.
   - 5-2. 신청을 거절한다.
7. 신청 결과를 HOST에게 전송한다.

# **서버 구조도**
(TODO)

# **프로토 타입**
(TODO)

# **ERD**
(TODO)

# **브랜치 관리 전략**
## **Git Flow**
(TODO)
